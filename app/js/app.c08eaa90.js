(function(e){function t(t){for(var r,o,s=t[0],l=t[1],c=t[2],p=0,d=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(r=!1)}r&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},o={1:0},i={1:0},a=[];function s(e){return l.p+"js/"+({}[e]||e)+"."+{2:"a97caedc",3:"cb5b7654",4:"05a489ab",5:"4b478774",6:"b58841c8",7:"73da52cc",8:"c4f49f33",9:"7025d464"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={2:1,3:1,4:1,5:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{2:"89aec220",3:"8f6d98b4",4:"8f6d98b4",5:"8f6d98b4",6:"31d6cfe0",7:"31d6cfe0",8:"31d6cfe0",9:"31d6cfe0"}[e]+".css",i=l.p+r,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var c=a[s],p=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(p===r||p===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){c=d[s],p=c.getAttribute("data-href");if(p===r||p===i)return t()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=t,u.onerror=function(t){var r=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[e],u.parentNode.removeChild(u),n(a)},u.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(u)})).then((function(){o[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=a);var c,p=document.createElement("script");p.charset="utf-8",p.timeout=120,l.nc&&p.setAttribute("nonce",l.nc),p.src=s(e);var d=new Error;c=function(t){p.onerror=p.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",d.name="ChunkLoadError",d.type=r,d.request=o,n[1](d)}i[e]=void 0}};var u=setTimeout((function(){c({type:"timeout",target:p})}),12e4);p.onerror=p.onload=c,document.head.appendChild(p)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/wp-content/themes/midiblocks/app/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],p=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var u=p;a.push([0,0]),n()})({0:function(e,t,n){e.exports=n("2f39")},"0047":function(e,t,n){},1578:function(e,t,n){},"2f39":function(e,t,n){"use strict";n.r(t);n("5319");var r=n("c973"),o=n.n(r),i=(n("573e"),n("7d6e"),n("e54f"),n("985d"),n("0047"),n("bd61"),n("5a21"),n("1578"),n("2b0e")),a=n("1f91"),s=n("42d2"),l=n("b05d"),c=n("2a19");i["a"].use(l["a"],{config:{dark:!0,storageMode:"local"},lang:a["a"],iconSet:s["a"],plugins:{Notify:c["a"]}});var p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{key:e.reloads,attrs:{id:"q-app"}},[n("router-view"),n("q-dialog",{attrs:{persistent:""},model:{value:!!e.errors.generic,callback:function(t){e.$set(!!e.errors,"generic",t)},expression:"!!errors.generic"}},[n("q-card",{staticClass:"bg-negative"},[n("q-card-section",{staticClass:"row items-center"},[n("q-avatar",{staticClass:"text-negative",attrs:{icon:"fas fa-exclamation-triangle",color:"white"}}),n("span",{staticClass:"q-ml-sm text-white"},[e._v(e._s(e.errors.generic))])],1),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{staticClass:"text-black",attrs:{color:"white"},on:{click:e.goHome}},[e._v("Go to home page")])],1)],1)],1),n("Prompt")],1)},d=[],u=(n("e6cf"),n("a79d"),n("ded3")),m=n.n(u),f=n("2ef0"),h=n("54ca"),b=n.n(h),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-dialog",{model:{value:e.prompt.visible,callback:function(t){e.$set(e.prompt,"visible",t)},expression:"prompt.visible"}},[n("q-card",[n("q-card-section",[n("h3",[e._v(e._s(e.prompt.message))]),n("q-input",{ref:"promptValue",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitPrompt(t)}},model:{value:e.prompt.value,callback:function(t){e.$set(e.prompt,"value",t)},expression:"prompt.value"}})],1),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{attrs:{color:"white",flat:""},on:{click:function(t){e.prompt.visible=!1}}},[e._v("Cancel")]),n("q-space"),n("q-btn",{attrs:{color:"secondary"},on:{click:e.submitPrompt}},[e._v("Done")])],1)],1)],1)},g=[],y={name:"Prompt",data(){return{prompt:{visible:!1,message:"",value:null,callback:null}}},mounted(){b.a.prompt=this.onBlocklyPrompt},methods:{onBlocklyPrompt(e,t,n){this.prompt.visible=!0,this.prompt.message=e,this.prompt.value=t,this.prompt.callback=n,this.$nextTick(()=>{this.$refs.promptValue.focus()})},submitPrompt(){this.prompt.callback&&(this.prompt.callback(this.prompt.value),this.$root.$emit("blockly.prompt.submit",this.prompt.value)),this.prompt.visible=!1}}},k=y,_=n("2877"),w=n("24e8"),x=n("f09f"),q=n("a370"),C=n("27f9"),O=n("4b7e"),P=n("9c40"),$=n("2c91"),j=n("eebe"),S=n.n(j),I=Object(_["a"])(k,v,g,!1,null,null,null),E=I.exports;S()(I,"components",{QDialog:w["a"],QCard:x["a"],QCardSection:q["a"],QInput:C["a"],QCardActions:O["a"],QBtn:P["a"],QSpace:$["a"]});var A=n("2f62"),M={name:"App",components:{Prompt:E},computed:m()({},Object(A["b"])(["reloads"])),watch:{$route(e){e.query.apiDomain&&this.$store.commit("set",["api.domain",e.query.apiDomain]),this.$store.commit("set",["post.isChecking",!0]),this.$store.dispatch("apiGet",{path:"post",url:this.$route.path}).then(e=>{const t=e.data||{};t.content&&(t.content=this.$markdown.render(t.content)),this.$store.commit("set",["post",t])}).finally(()=>{this.$store.commit("set",["post.isChecking",!1])})}},data(){return{errors:{generic:""}}},mounted(){this.$root.$on("prepareRoute",this.prepareRoute),this.$root.$on("error",this.onError),Object(f["set"])(window,"app.version",this.$v),Object(f["set"])(window,"app.$",this)},destroyed(){this.$root.$off("error",this.onError)},methods:{onError(e){this.errors.generic=e},goHome(){this.$router.push({name:"Home"}),this.errors.generic=""}}},D=M,Q=n("cb32"),N=Object(_["a"])(D,p,d,!1,null,null,null),B=N.exports;S()(N,"components",{QDialog:w["a"],QCard:x["a"],QCardSection:q["a"],QAvatar:Q["a"],QCardActions:O["a"],QBtn:P["a"]});var L=n("bc3a"),T=n.n(L),F={get:{boot(){return{mainNavPanel:{links:[{title:"Home",description:"Get an overview of what Midiblocks is about",link:"/",icon:"fas fa-home"},{title:"Studio",description:"Visually map and program your MIDI devices",link:"/studio",icon:"fas fa-puzzle-piece fa-flip-both"},{title:"Factory",description:"Create custom blocks with JavaScript",link:"/factory",icon:"fas fa-laptop-code"},{title:"Library",description:"Browse our library of user created Midiblocks and learn how to use them",link:"/library",icon:"fas fa-cubes"}]},user:{isLoggedIn:!1}}},post(){return{}},library(){return{blocks:[{type:"midi_on_event",title:"midi_on_event",short_description:["Runs the midiblock when the selected MIDI event is triggered from the specified device. Attach MIDI Args to the right to fine-tune the event"],block_definition:['{\r\n  "type": "midi_on_event",\r\n  "message0": "On MIDI %1 from device %2 %3 %4",\r\n  "args0": [\r\n    {\r\n      "type": "field_dropdown",\r\n      "name": "event",\r\n      "options": [\r\n        [\r\n          "Note On",\r\n          "noteon"\r\n        ],\r\n        [\r\n          "Note Off",\r\n          "noteoff"\r\n        ],\r\n        [\r\n          "Control Change",\r\n          "controlchange"\r\n        ]\r\n      ]\r\n    },\r\n    {\r\n      "type": "field_input",\r\n      "name": "device",\r\n      "text": "any"\r\n    },\r\n    {\r\n      "type": "input_value",\r\n      "name": "args",\r\n      "check": "midi_arg"\r\n    },\r\n    {\r\n      "type": "input_statement",\r\n      "name": "statements"\r\n    }\r\n  ],\r\n  "inputsInline": false,\r\n  "colour": "#fad000",\r\n  "tooltip": "Runs the midiblock when the selected MIDI event is triggered from the specified device. Attach MIDI Args to the right to fine-tune the event",\r\n  "helpUrl": "https://midiblocks.com/block/midi_on_event"\r\n}']},{type:"midi_arg_compare_note",title:"midi_arg_compare_note",short_description:["Used to modify the requirements of a MIDI Event to also require that a note is or isn't played."],block_definition:['{\r\n  "type": "midi_arg_compare_note",\r\n  "message0": "when note %1 %2 %3",\r\n  "args0": [\r\n    {\r\n      "type": "field_dropdown",\r\n      "name": "condition",\r\n      "options": [\r\n        [\r\n          "is",\r\n          "is"\r\n        ],\r\n        [\r\n          "is not",\r\n          "is not"\r\n        ]\r\n      ]\r\n    },\r\n    {\r\n      "type": "field_input",\r\n      "name": "note",\r\n      "text": "any"\r\n    },\r\n    {\r\n      "type": "input_value",\r\n      "name": "args",\r\n      "check": "midi_arg"\r\n    }\r\n  ],\r\n  "output": "midi_arg",\r\n  "colour": "#FF9D00",\r\n  "tooltip": "Compares the MIDI note",\r\n  "helpUrl": "https://midiblocks.com/block/midi_arg_compare_note"\r\n}']},{type:"midi_send_note",title:"midi_send_note",short_description:["Sends a MIDI note to a specific device and channel"],block_definition:['{\r\n  "type": "midi_send_note",\r\n  "message0": "Play note %1 on device %2 on channel %3",\r\n  "args0": [\r\n    {\r\n      "type": "field_input",\r\n      "name": "note",\r\n      "text": "C"\r\n    },\r\n    {\r\n      "type": "field_input",\r\n      "name": "device",\r\n      "text": "all"\r\n    },\r\n    {\r\n      "type": "field_input",\r\n      "name": "channel",\r\n      "text": "all"\r\n    }\r\n  ],\r\n  "previousStatement": null,\r\n  "nextStatement": null,\r\n  "colour": "#2EC4B6",\r\n  "tooltip": "",\r\n  "helpUrl": ""\r\n}']}]}}}};i["a"].use(A["a"]);var H=function(){const e=new A["a"].Store({state:{reloads:0,api:{domain:"https://midiblocks.com",base:"wp-json/midiblocks"},user:{isLoggedIn:!1},post:{isChecking:!0},devices:{inputs:{},outputs:{}}},getters:{endpoint:e=>t=>Object(f["trimEnd"])(e.api.domain,"/")+"/"+Object(f["trimEnd"])(e.api.base,"/")+"/"+t},mutations:{set(e,t){Object(f["set"])(e,t[0],t[1])},tally(e,t){Object(f["set"])(e,t,Object(f["get"])(e,t)+1)}},actions:{apiGet({getters:e},t){let n,r={};return"string"===typeof t?n=t:(n=t.path,delete t.path,r=t),"remote"===i["a"].prototype.$q.config.storageMode?T.a.get(e.endpoint(n),r):new Promise(e=>{n=n.replace(/\//g,"."),e({data:Object(f["get"])(F.get,n)(r)})})}}});return e},R=n("8c4f");const V=[{path:"/",component:()=>Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"8e31")),children:[{name:"Home",path:"",component:()=>Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"bc13"))},{name:"Studio",path:"/studio",component:()=>Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"cf36"))},{name:"Library",path:"/library",component:()=>Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"730a"))},{name:"Factory",path:"/factory",component:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"dc73"))}]},{path:"/readonly",component:()=>Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"2c8a")),children:[{name:"ReadOnly",path:":id",component:()=>Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"a0c0"))}]},{path:"*",component:()=>n.e(9).then(n.bind(null,"e51e"))}];var G=V;i["a"].use(R["a"]);var U=function(){const e=new R["a"]({scrollBehavior:()=>({x:0,y:0}),routes:G,mode:"history",base:"/"});return e},J=function(){return z.apply(this,arguments)};function z(){return z=o()((function*(){const e="function"===typeof H?yield H({Vue:i["a"]}):H,t="function"===typeof U?yield U({Vue:i["a"],store:e}):U;e.$router=t;const n={router:t,store:e,render:e=>e(B),el:"#q-app"};return{app:n,store:e,router:t}})),z.apply(this,arguments)}var K=n("d4cd"),W=n.n(K),X=n("9224"),Y=n("bc78");n("afe2");i["a"].prototype.$axios=T.a,i["a"].prototype.$v=X.version,i["a"].prototype.$markdown=new W.a,i["a"].config.ignoredElements=["field","block","category","xml","mutation","value","sep"],Y["a"].setBrand("menu-item-not-selected","#a599e9");var Z=n("8a60"),ee=n.n(Z);const te={},ne=ee.a.prototype.stopCallback;ee.a.prototype.stopCallback=function(e,t,n,r){const o=this;return!!o.paused||!te[n]&&!te[r]&&ne.call(o,e,t,n)},ee.a.prototype.bindGlobal=function(e,t,n){const r=this;if(r.bind(e,t,n),e instanceof Array)for(var o=0;o<e.length;o++)te[e[o]]=!0;else te[e]=!0},ee.a.init(),i["a"].prototype.$mousetrap=ee.a;const re="/wp-content/themes/midiblocks/app/",oe=/\/\//,ie=e=>(re+e).replace(oe,"/");function ae(){return se.apply(this,arguments)}function se(){return se=o()((function*(){const{app:e,store:t,router:n}=yield J();let r=!1;const o=e=>{r=!0;const t=Object(e)===e?ie(n.resolve(e).route.fullPath):e;window.location.href=t},a=window.location.href.replace(window.location.origin,""),s=[void 0,void 0];for(let c=0;!1===r&&c<s.length;c++)if("function"===typeof s[c])try{yield s[c]({app:e,router:n,store:t,Vue:i["a"],ssrContext:null,redirect:o,urlPath:a,publicPath:re})}catch(l){return l&&l.url?void(window.location.href=l.url):void console.error("[Quasar] boot error:",l)}!0!==r&&new i["a"](e)})),se.apply(this,arguments)}ae()},"5a21":function(e,t,n){},9224:function(e){e.exports=JSON.parse('{"name":"midiblocks-wordpress","version":"0.2.0","description":"A tightly integrated WordPress Quasar SPA theme with sandboxed Midiblocks","productName":"Midiblocks","author":"Oz Ramos <midiblocks@gmail.com>","private":true,"scripts":{"start":"npm run dev:local","dev":"npm run dev:local","dev:local":"quasar dev --use-local-storage","dev:remote":"quasar dev --use-remote-storage","build":"quasar build --use-local-storage","build:local":"quasar build --use-local-storage","build:remote":"quasar build --use-remote-storage","lint":"eslint --ext .js,.vue ./","test":"echo \\"No test specified\\" && exit 0"},"dependencies":{"@babel/standalone":"^7.11.6","@quasar/extras":"^1.0.0","axios":"^0.18.1","blockly":"^3.20200625.2","core-js":"^3.6.5","geteventlisteners":"^1.1.0","js-file-download":"^0.4.12","js-interpreter":"^2.2.0","markdown-it":"^11.0.0","monaco-editor-webpack-plugin":"^1.9.0","mousetrap":"^1.6.5","quasar":"^1.0.0","store":"^2.0.12","uuid":"^8.3.0","vue-monaco":"^1.2.1","webmidi":"^2.5.1"},"devDependencies":{"@quasar/app":"^2.0.0","@quasar/quasar-app-extension-qenv":"^1.0.3","babel-eslint":"^10.0.1","eslint":"^6.8.0","eslint-config-prettier":"^6.9.0","eslint-loader":"^3.0.3","eslint-plugin-vue":"^6.1.2","pug":"^3.0.0","pug-plain-loader":"^1.0.0","raw-loader":"^4.0.1"},"browserslist":["last 10 Chrome versions","last 10 Firefox versions","last 4 Edge versions","last 7 Safari versions","last 8 Android versions","last 8 ChromeAndroid versions","last 8 FirefoxAndroid versions","last 10 iOS versions","last 5 Opera versions"],"engines":{"node":">= 10.18.1","npm":">= 6.13.4"}}')},bd61:function(e,t,n){}});